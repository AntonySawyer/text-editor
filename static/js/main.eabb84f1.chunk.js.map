{"version":3,"sources":["utils/StorageWorker.js","utils/prepareDataToSave.js","utils/domWorker.js","utils/tagsFilter.js","components/Tag/index.js","components/Tag/Tag.js","components/TagCloud/index.js","components/TagCloud/TagCloud.js","components/NotesList/index.js","components/NotesList/NotesList.js","components/NotesViewer/index.js","components/NotesViewer/NotesViewer.js","App.js","serviceWorker.js","index.js"],"names":["getData","key","JSON","parse","localStorage","getItem","checkData","notes","Object","keys","length","setItem","stringify","1","id","title","text","tags","saveData","data","modifyData","values","includes","newId","deleteData","firstId","dataList","ids","formatTag","input","document","getElementById","strToSave","value","trim","replace","getNoteObj","concat","innerText","collectTags","join","defineProperty","tagsArr","querySelectorAll","forEach","el","push","injectTags","note","map","t","uniqueArr","arr","toConsumableArray","Set","editStart","noteText","querySelector","setAttribute","classList","add","focusAtEnd","remove","style","editEnd","focus","window","getSelection","createRange","range","selectNodeContents","collapse","sel","removeAllRanges","addRange","body","createTextRange","textRange","moveToElementText","select","tagsFilter","obj","needed","result","Tag","_ref","filter","react_default","a","createElement","className","onClick","TagCloud","TagsElements","components_Tag","type","placeholder","NotesList","activeNoteId","onChange","newNote","filterEnabled","NotesTitles","undefined","htmlFor","name","checked","components_TagCloud","NotesViewer","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","target","keyCode","highlightTags","container","content","matches","match","innerHTML","bindedTags","slice","every","autoTagCreate","state","nextProps","_this2","_this$props","editNote","contentEditable","onKeyUp","React","Component","App","changeNote","DomWorker","reReadStorage","noteTags","TagsFilter","split","targetId","arguments","StorageWorker","dataToSave","PrepareData","emptyNote","newTagsNote","_this$state","savedTags","newTagsTotal","i","tag","modifNote","filteredNotes","noteId","_this$state2","components_NotesList","components_NotesViewer","Boolean","location","hostname","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.eabb84f1.chunk.js","sourcesContent":["export const getData = (key) => {\r\n  return JSON.parse(localStorage.getItem(key));\r\n};\r\n\r\nexport const checkData = () => {\r\n  const notes = getData('notes');\r\n  if (notes === null || Object.keys(notes).length === 0) {\r\n    localStorage.setItem('notes', JSON.stringify({ 1: { id: 1, title: 'Unnamed note №1', text: 'Click \"edit\" button!', tags: '' } }));\r\n  }\r\n  if (getData('tags') === null) {\r\n    localStorage.setItem('tags', JSON.stringify({}));\r\n  }\r\n}\r\n\r\nexport const saveData = (key, data, id) => {\r\n  const modifyData = getData(key);\r\n  switch (key) {\r\n    case 'tags':\r\n      if (!Object.values(modifyData).includes(data)) {\r\n        const idToSave = newId(key);\r\n        modifyData[idToSave] = data;\r\n      }\r\n      break;\r\n    case 'notes':\r\n      modifyData[id] = data[id];\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  localStorage.setItem(key, JSON.stringify(modifyData));\r\n}\r\n\r\nexport const deleteData = (key, id) => {\r\n  const modifyData = getData(key);\r\n  delete modifyData[id];\r\n  localStorage.setItem(key, JSON.stringify(modifyData));\r\n  checkData();\r\n}\r\n\r\nexport const firstId = (key) => {\r\n  const dataList = getData(key);\r\n  return Object.keys(dataList)[0];\r\n}\r\n\r\nexport const newId = (key) => {\r\n  const dataList = getData(key);\r\n  const ids = Object.keys(dataList);\r\n  return ids.length === 0 ? 1 : +ids[ids.length - 1] + 1;\r\n}\r\n\r\nexport const isExist = (id) => {\r\n  const notesList = getData('notes');\r\n  return id in notesList;\r\n}","export const formatTag = () => {\r\n  const input = document.getElementById('newTadName');\r\n  const strToSave = input.value.trim().replace(/ /g, '_');\r\n  input.value = '';\r\n  return strToSave;\r\n}\r\n\r\nexport const getNoteObj = (id) => {\r\n  let title = document.getElementById('editNoteTitle').value;\r\n  if (title === '') {\r\n    title = `Unnamed note №${id}`;\r\n  }\r\n  const text = document.getElementById('noteText').innerText;\r\n  const tagsArr = collectTags();\r\n  const tags = tagsArr.join(',');\r\n  return {[id]: {id, title, text, tags}};\r\n}\r\n\r\nexport const collectTags = () => {\r\n  const tagsArr = [];\r\n  document.querySelectorAll('#noteTags span').forEach(el => tagsArr.push(el.innerText));\r\n  return tagsArr;\r\n}\r\n\r\nexport const injectTags = (note, tags) => {\r\n  tags.map(t => formatTag(t))\r\n  note.tags = uniqueArr(tags).join(',');\r\n  return {[note.id]: note};\r\n}\r\n\r\nexport const uniqueArr = (arr) => {\r\n  return [...new Set(arr)];\r\n}","export function editStart() {\r\n  const noteText = document.querySelector('.textArea');\r\n  noteText.setAttribute('contentEditable', true);\r\n  noteText.classList.add('editNoteText');\r\n  focusAtEnd(noteText);\r\n  document.getElementById('editBtn').classList.add('hidden');\r\n  document.getElementById('saveBtn').classList.remove('hidden');\r\n  document.querySelector('.notes-viewer > h1').style = \"display: none\";\r\n  document.getElementById('editNoteTitle').classList.remove('hidden');\r\n}\r\n\r\nexport function editEnd() {\r\n  const noteText = document.querySelector('.textArea');\r\n  noteText.setAttribute('contentEditable', false);\r\n  noteText.classList.remove('editNoteText');\r\n  document.getElementById('editBtn').classList.remove('hidden');\r\n  document.getElementById('saveBtn').classList.add('hidden');\r\n  document.querySelector('.notes-viewer > h1').style = {};\r\n  document.getElementById('editNoteTitle').classList.add('hidden');\r\n  document.getElementById('newNoteTitle').value = '';\r\n}\r\n\r\nexport function clearAllInputs() {\r\n  document.querySelector('.textArea').innerHTML = '';\r\n  document.getElementById('editNoteTitle').value = '';\r\n}\r\n\r\nexport function focusAtEnd(el) {\r\n  el.focus();\r\n  if (typeof window.getSelection != \"undefined\" &&\r\n    typeof document.createRange != \"undefined\"\r\n  ) {\r\n    const range = document.createRange();\r\n    range.selectNodeContents(el);\r\n    range.collapse(false);\r\n    const sel = window.getSelection();\r\n    sel.removeAllRanges();\r\n    sel.addRange(range);\r\n  } else if (typeof document.body.createTextRange != \"undefined\") {\r\n    const textRange = document.body.createTextRange();\r\n    textRange.moveToElementText(el);\r\n    textRange.collapse(false);\r\n    textRange.select();\r\n  }\r\n}","export default (obj, needed) => {\r\n  const result = {};\r\n  for (let key in obj) {\r\n    if (needed.includes(obj[key])) {\r\n      result[key] = obj[key];\r\n    }\r\n  }\r\n  return result;\r\n}\r\n","import Tag from './Tag';\r\n\r\nexport default Tag;","import React from 'react';\r\nimport './Tag.scss';\r\n\r\nexport default ({ title, deleteData, filter }) => {\r\n  return (\r\n    <div className=\"tag-wrapper\">\r\n      <span onClick={ filter }>{ title }</span>\r\n      <button className=\"btn btn-red\" onClick={ deleteData }>del</button>\r\n    </div>\r\n  )\r\n}","import TagCloud from './TagCloud';\r\n\r\nexport default TagCloud;","import React from 'react';\r\n\r\nimport Tag from '../Tag';\r\n\r\nexport default ({ tags, deleteData, saveData, filter }) => {\r\n\r\n  const TagsElements = [];\r\n  Object.keys(tags).forEach(id => {\r\n    TagsElements.push(<Tag key={id} title={tags[id]} filter={() => filter(id)} \r\n                          deleteData={() => deleteData('tags', id) } />);\r\n  });\r\n  return (\r\n    <div className=\"tag-cloud\">\r\n      <input type=\"text\" id=\"newTadName\" placeholder=\"Type new tag here...\" />\r\n      <button className=\"btn btn-green\" onClick={() => saveData('tags')}>Add</button>\r\n      <div>\r\n        {TagsElements}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import NotesList from './NotesList';\r\n\r\nexport default NotesList;","import React from 'react';\r\n\r\nimport TagCloud from '../TagCloud';\r\nimport './NotesList.scss';\r\n\r\n\r\n\r\nexport default ({ activeNoteId, notes, tags, onChange, deleteData, saveData, newNote, filter, filterEnabled }) => {\r\n  const NotesTitles = [];\r\n  Object.keys(notes).forEach(id => {\r\n    NotesTitles.push(<li key={id} className={activeNoteId === id ? 'active' : undefined}>\r\n      <label htmlFor={`note_${id}`}>{notes[id].title}</label>\r\n      <input type=\"radio\" id={`note_${id}`} name=\"notesTitles\" \r\n        checked={+id === +activeNoteId} \r\n        onChange={() => onChange({ id })} />\r\n    </li>);\r\n  });\r\n  return (\r\n    <div className=\"notes-list\">\r\n      <h1>Notes</h1>\r\n      <input type=\"text\" id=\"newNoteTitle\" placeholder=\"Add new note title...\" />\r\n      <button className=\"btn btn-green\" onClick={ newNote }>New</button>\r\n      <ul>\r\n        { NotesTitles }\r\n      </ul>\r\n      <span>Filter by: { filterEnabled || 'none' }</span>\r\n      <button onClick={() => filter(null)} className=\"btn btn-inverted\">X</button>\r\n      <TagCloud tags={tags} deleteData={deleteData} saveData={saveData} filter={filter} />\r\n    </div>\r\n  )\r\n}","import NotesViewer from './NotesViewer';\r\n\r\nexport default NotesViewer;","import React from 'react';\r\nimport Tag from '../Tag';\r\nimport { focusAtEnd } from '../../utils/domWorker';\r\nimport { collectTags } from '../../utils/prepareDataToSave';\r\nimport './NotesViewer.scss';\r\n\r\nexport default class NotesViewer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { title: this.props.note.title };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (document.querySelector('p[contenteditable=\"true\"]') === null) {\r\n      this.highlightTags();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (document.querySelector('p[contenteditable=\"true\"]') === null) {\r\n      this.highlightTags();\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({ title: nextProps.note.title });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    const keyCodesForAdd = [8, 32];\r\n    if (event.target.id === 'noteText' && keyCodesForAdd.includes(event.keyCode)) {\r\n      this.highlightTags();\r\n    }\r\n  }\r\n\r\n  highlightTags = () => {\r\n    const container = document.getElementById('noteText');\r\n    const content = container.innerText;\r\n    const matches = content.match(/(#[^\\s]+)/g);\r\n    if (matches !== null) {\r\n      container.innerHTML = content.replace(/(#[^\\s]+)/g, `<span class=\"hightlight\">$1</span>`);\r\n      const bindedTags = collectTags();\r\n      matches.map(el => el.slice(1));\r\n      if (!matches.every(el => bindedTags.includes(el)) || !bindedTags.every(el => matches.includes(el))) {\r\n        this.props.autoTagCreate(matches);\r\n      }\r\n      if (document.querySelector(':focus') !== null && document.querySelector(':focus').id === 'noteText') {\r\n        focusAtEnd(container);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { note, tags, editNote, saveData, deleteData, filter } = this.props;\r\n\r\n    const TagsElements = [];\r\n    if (Object.keys(tags).length !== 0) {\r\n      Object.keys(tags).forEach(id => {\r\n        TagsElements.push(<Tag key={id} title={tags[id]} filter={() => filter(id)}\r\n          deleteData={() => deleteData('tags', id)} />)\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"notes-viewer\">\r\n        <h1>{ this.state.title }</h1>\r\n        <input type=\"text\" value={ this.state.title } className=\"hidden\" id=\"editNoteTitle\"\r\n         onChange={this.handleChange} name=\"title\" />\r\n        <button className=\"btn btn-red\" onClick={() => deleteData('notes', note.id) }>Del</button>\r\n        <button className=\"btn btn-orange\" onClick={ editNote } id=\"editBtn\">Edit</button>\r\n        <button className=\"btn btn-green hidden\" onClick={() => {this.highlightTags('add'); saveData('notes', note.id)} } id=\"saveBtn\">Save</button>\r\n        <p className=\"textArea\" id=\"noteText\" contentEditable={false} \r\n          onKeyUp={this.handleChange} name=\"text\">{this.props.note.text}</p>\r\n        <div id=\"noteTags\">\r\n          {TagsElements}\r\n        </div>\r\n      </div>\r\n  )}\r\n}","import React from 'react';\n\nimport * as StorageWorker from './utils/StorageWorker';\nimport * as PrepareData from './utils/prepareDataToSave';\nimport * as DomWorker from './utils/domWorker';\nimport TagsFilter from './utils/tagsFilter';\n\nimport NotesList from './components/NotesList';\nimport NotesViewer from './components/NotesViewer';\n\nimport './App.scss';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    StorageWorker.checkData();\n    this.state = {\n      activeNoteId: StorageWorker.firstId('notes'),\n      tags: StorageWorker.getData('tags'),\n      notes: StorageWorker.getData('notes'),\n      filterEnabled: '',\n      noteTags: ''\n    }\n  }\n\n  changeNote = (target) => {\n    DomWorker.editEnd();\n    if (this.state.filterEnabled === '') {\n      this.reReadStorage(target.id);\n    } else {\n      this.setState({activeNoteId: target.id, \n        noteTags: TagsFilter(this.state.tags, this.state.notes[target.id].tags.split(','))});\n    }\n  }\n\n  reReadStorage = (targetId = StorageWorker.firstId('notes')) => {\n    const tags = StorageWorker.getData('tags');\n    const notes = StorageWorker.getData('notes');\n    const noteTags = TagsFilter(tags, notes[targetId].tags.split(','));\n    this.setState({\n      tags,\n      notes,\n      activeNoteId: targetId,\n      noteTags,\n      filterEnabled: ''\n    })\n  }\n\n  deleteData = (key, id) => {\n    StorageWorker.deleteData(key, id);\n    this.setState({filterEnabled: ''});\n    this.reReadStorage();\n  }\n\n  saveData = (key, id) => {\n    const dataToSave = key === 'tags' ? PrepareData.formatTag() : PrepareData.getNoteObj(id);\n    StorageWorker.saveData(key, dataToSave, id);\n    DomWorker.editEnd();\n  }\n\n  newNote = () => {\n    DomWorker.editStart();\n    DomWorker.clearAllInputs();\n    document.getElementById('editNoteTitle').value = document.getElementById('newNoteTitle').value;\n    document.querySelectorAll('#noteTags span').forEach(el => el.innerHTML = '');\n    const newId = StorageWorker.newId('notes');\n    const emptyNote = PrepareData.getNoteObj(newId);\n    StorageWorker.saveData('notes', emptyNote, newId);\n    this.reReadStorage(newId);\n  }\n\n  autoTagCreate = (newTagsNote) => {\n    const { activeNoteId, notes, tags } = this.state;\n    const savedTags = Object.values(tags);\n    const newTagsTotal = newTagsNote.filter(i => !savedTags.includes(i));\n    newTagsTotal.map(i => PrepareData.formatTag(i));\n    const newTagsTotalUnique = PrepareData.uniqueArr(newTagsTotal);\n    newTagsTotalUnique.forEach(tag => StorageWorker.saveData('tags', tag));\n    const modifNote = PrepareData.injectTags(notes[activeNoteId], newTagsNote);\n    StorageWorker.saveData('notes', modifNote, activeNoteId);\n    this.reReadStorage(activeNoteId);\n  }\n\n  filter = (id) => {\n    if (id === null) {\n      this.reReadStorage();\n      this.setState({ filterEnabled: ''})\n      return;\n    }\n    const notes = StorageWorker.getData('notes');\n    const tags = StorageWorker.getData('tags');\n    const filteredNotes = {};\n    for (const noteId in notes) {\n      if (notes[noteId].tags.split(',').includes(tags[id])) {\n        filteredNotes[noteId] = notes[noteId];\n      }\n    }\n    if (Object.keys(filteredNotes).length !== 0) {\n      this.setState({ activeNoteId: Object.keys(filteredNotes)[0], \n        notes: filteredNotes,\n        filterEnabled: tags[id],\n        noteTags: TagsFilter(tags, filteredNotes[Object.keys(filteredNotes)[0]].tags.split(',')) });\n    } else {\n      this.deleteData('tags', id);\n    }\n  }\n\n  render() {\n    const { activeNoteId, tags, notes, filterEnabled, noteTags } = this.state;\n    return (\n    <div className=\"App\">\n      <NotesList\n        activeNoteId={ activeNoteId }\n        notes={ notes } \n        tags={ tags } \n        onChange={ this.changeNote }\n        deleteData={this.deleteData }\n        saveData={ this.saveData }\n        newNote={ this.newNote }\n        filter={ this.filter }\n        filterEnabled={ filterEnabled }\n      />\n      <NotesViewer \n        note={ notes[this.state.activeNoteId] } \n        tags={ noteTags }\n        editNote={ DomWorker.editStart } \n        saveData={ this.saveData } \n        deleteData={ this.deleteData }\n        autoTagCreate={ this.autoTagCreate }\n        filter={this.filter}\n      />\n    </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}